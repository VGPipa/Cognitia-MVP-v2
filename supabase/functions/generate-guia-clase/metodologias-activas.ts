/**
 * DOCUMENTO DE REFERENCIA: METODOLOGÍAS ACTIVAS
 * Versión enriquecida (~2500 tokens) para CognitIA v3.0
 * 
 * Basado en el documento "Metodologías Activas" completo
 * Incluye: Matriz de selección, componentes no negociables, consignas modelo y estructuras detalladas
 */

export const METODOLOGIAS_ACTIVAS_REFERENCE = `
# REFERENCIA DE METODOLOGÍAS ACTIVAS - CognitIA v3.0

## MATRIZ DE SELECCIÓN (CONSULTA OBLIGATORIA)

| Objetivo de la sesión | Metodología | Estructura | Duración mín. | Effect Size |
|----------------------|-------------|------------|---------------|-------------|
| Resolver problema real contextualizado | ABPr Caso Rápido | 7 pasos | 45-60 min | ~1.076 (alto) |
| Crear producto tangible con impacto | ABP | Pregunta + Iteración + Público | 90+ min | ~0.44 (mod) |
| Comprensión profunda de textos | Jigsaw + TPS | Expertos → Base → Síntesis | 40-60 min | ~0.33 (mod) |
| Desarrollar argumentación crítica | P4C + Debate | Comunidad de indagación | 45-60 min | Alto |
| Práctica y consolidación | Gamificación | Quiz-battle / Escape room | 15-90 min | ~1.30 (alto) |
| Reflexión y autorregulación | SRL | Do Now → Pausas → Exit Ticket | 10-15 min | ~0.69 (mod) |
| Desarrollo socioemocional | SEL | Integrado a proyectos/debates | Transversal | Mod-Alto |

---

## 1. ABP - APRENDIZAJE BASADO EN PROYECTOS

### Cuándo usar
Sesiones largas (2+ horas) o unidades multi-sesión. El producto final tiene audiencia real.

### Componentes NO NEGOCIABLES
- **Pregunta guía** con tensión real (abierta, desafiante, sin respuesta única)
- **Voz y elección** del estudiante en el proceso
- **Investigación sostenida** con fuentes
- **Iteración**: borrador → feedback → mejora
- **Producto público** para audiencia real
- **Reflexión continua** (no solo al final)
- **Roles y responsabilidad individual** dentro del equipo

### Estructura Mini-ABP (90-135 min)
| Fase | Tiempo | Acciones |
|------|--------|----------|
| INICIO | 15 min | Presentar reto + Formar equipos + Asignar roles |
| DESARROLLO 1 | 30 min | Investigación guiada con fuentes |
| DESARROLLO 2 | 45 min | Producción iterativa (borrador→feedback→mejora) |
| DESARROLLO 3 | 15 min | Retroalimentación entre pares con protocolo |
| CIERRE | 20 min | Presentación + Metacognición |

---

## 2. ABPr - APRENDIZAJE BASADO EN PROBLEMAS

### Cuándo usar
Cuando existe un problema auténtico que requiere análisis sistemático y solución fundamentada.

### Componentes NO NEGOCIABLES
- Problema con **datos incompletos** (genera necesidad de investigar)
- **Proceso de 7 pasos** explícito
- Equipos con **roles + evidencia obligatoria**
- **Cierre metacognitivo** (reflexión sobre el proceso)

### Estructura Caso Rápido (45-60 min)
| Paso | Tiempo | Acción | Producto |
|------|--------|--------|----------|
| 1 | 5 min | Presentar caso problemático real con datos | Caso leído/comprendido |
| 2 | 5 min | ¿Qué sabemos? | Lista de hechos |
| 3 | 5 min | ¿Qué necesitamos saber? | Lista de preguntas |
| 4 | 3 min | Formular hipótesis | Hipótesis escrita |
| 5 | 15 min | Investigar/discutir en equipos | Notas de investigación |
| 6 | 12 min | Proponer soluciones fundamentadas | Propuesta con evidencia |
| 7 | 10 min | Plenario + Transferencia a su contexto | Reflexión oral/escrita |

### Protocolo de preguntas del docente
- "¿Cuál es el problema REAL aquí?"
- "¿Qué información les falta para decidir?"
- "¿Qué soluciones son viables y por qué?"
- "¿Cómo verificamos que funciona?"

---

## 3. APRENDIZAJE COOPERATIVO

### Los 5 ingredientes OBLIGATORIOS
1. **Interdependencia positiva**: El éxito individual depende del éxito grupal
2. **Responsabilidad individual**: Cada miembro rinde cuentas
3. **Interacción promotora cara a cara**: Ayuda mutua, no división de tareas
4. **Habilidades sociales explícitas**: Escucha, turnos, desacuerdos respetuosos
5. **Procesamiento grupal**: Reflexión sobre funcionamiento del equipo

### Estructuras por objetivo

**TPS (Think-Pair-Share) - 5-10 min:**
| Fase | Tiempo | Consigna modelo |
|------|--------|-----------------|
| Think | 1-2 min | "Piensa en silencio: [pregunta]. Escribe tu respuesta." |
| Pair | 2-3 min | "Comparte con tu compañero. Escuchen antes de responder." |
| Share | 2-3 min | "¿Qué descubrieron? ¿En qué coincidieron o difirieron?" |

**Jigsaw (Rompecabezas) - 25-40 min:**
| Fase | Tiempo | Acciones |
|------|--------|----------|
| Grupos expertos | 10 min | Cada grupo domina UNA parte del contenido |
| Grupos base | 15 min | Expertos enseñan a sus compañeros (todos deben tomar notas) |
| Evaluación | 5-10 min | Quiz individual (responsabilidad individual) |

**Roles cooperativos (SIEMPRE asignar):**
| Rol | Responsabilidad | Frase típica |
|-----|-----------------|--------------|
| Coordinador | Gestiona tiempos y turnos | "Nos quedan 5 minutos, avancemos a..." |
| Secretario | Registra ideas y acuerdos | "Entonces acordamos que..." |
| Portavoz | Presenta al grupo general | "Mi equipo concluyó que..." |
| Controlador | Verifica que todos comprendan | "¿Todos entendemos esto?" |

---

## 4. SRL - AUTORREGULACIÓN DEL APRENDIZAJE

### Momentos de integración

**INICIO - Do Now (3-5 min):**
Tarea escrita breve que activa conocimiento previo y focaliza atención.
- "Tienen 2 minutos para escribir todo lo que saben sobre [tema]. No borren nada."
- "En silencio, respondan esta pregunta en su cuaderno: [pregunta activadora]"

**DESARROLLO - Pausas metacognitivas (cada 15-20 min):**
- "¿Qué estrategia estás usando? ¿Está funcionando?"
- "¿Qué parte te está costando más? ¿Qué podrías intentar diferente?"
- "Si tuvieras que explicar esto a un compañero, ¿cómo lo harías?"

**CIERRE - Exit Ticket (3-5 min):**
| Pregunta | Propósito |
|----------|-----------|
| "Hoy aprendí que..." | Verificar comprensión |
| "Lo más útil fue..." | Valoración de utilidad |
| "Todavía tengo dudas sobre..." | Detectar vacíos |
| "Esto me sirve para..." | Transferencia |

---

## 5. P4C - FILOSOFÍA PARA NIÑOS / DIÁLOGO SOCRÁTICO

### Cuándo usar
Desarrollar pensamiento crítico, explorar conceptos abstractos, formar ciudadanía.

### Estructura (20-30 min)
| Fase | Tiempo | Acción |
|------|--------|--------|
| Estímulo | 3 min | Texto, imagen, dilema, video corto |
| Generación | 5 min | Estudiantes proponen preguntas (las mejores empiezan con "¿Por qué...?") |
| Votación | 2 min | Eligen LA pregunta a explorar |
| Diálogo | 15 min | Comunidad de indagación con reglas |
| Síntesis | 5 min | ¿Qué aprendimos? ¿Cambió alguien de opinión? |

### Reglas del diálogo (EXPLICITAR al inicio)
1. Una voz a la vez
2. Escuchar antes de responder
3. Dar RAZONES, no solo opiniones ("Pienso X porque...")
4. Está bien cambiar de opinión
5. Construir sobre ideas de otros ("Agregando a lo que dijo María...")

---

## 6. GAMIFICACIÓN

### Estructuras por tiempo y objetivo

**Quiz-Battle (10-15 min) - Para repaso:**
- Equipos compiten respondiendo preguntas
- Puntos por rapidez y exactitud
- Comodines: 50/50, ayuda del equipo, doble puntos
- "El equipo [X] tiene 30 segundos para responder..."

**Escape Room Educativo (30-45 min):**
- 4-5 retos encadenados (cada uno desbloquea el siguiente)
- Narrativa envolvente (misión, contexto, urgencia)
- Pistas escalonadas (1 gratis, 2 con penalización)
- "Para abrir el siguiente candado, deben resolver..."

**Estaciones Gamificadas (40-60 min):**
- Rotación cada 8-10 min
- Cada estación = desafío diferenciado + recompensa
- Tabla de liderazgo visible (equipos, no individuos)
- "Tienen 8 minutos en esta estación. Al sonar la música, rotan."

---

## CONSIGNAS TEXTUALES MODELO (USAR COMO REFERENCIA)

### Para activar saberes previos:
"Tienen 2 minutos para escribir TODO lo que saben sobre [tema]. No borren nada, todo vale. Después compararemos."

### Para conflicto cognitivo:
"Si [idea previa que tienen], entonces ¿por qué sucede [situación contradictoria]? ¿Qué nos falta saber?"

### Para comunicar propósito:
"Hoy vamos a aprender a [verbo acción] para poder [utilidad práctica]. Al final serán capaces de [logro observable]."

### Para trabajo en equipos:
"En los próximos 15 minutos, su equipo debe [tarea específica]. El coordinador asegura que todos participen, el secretario registra, y el portavoz compartirá. ¿Preguntas antes de empezar?"

### Para retroalimentación:
"¿Cómo llegaste a esa conclusión?" / "¿Qué pasaría si cambiaras...?" / "¿Hay otra forma de verlo?"

### Para gestión del error:
"He notado que varios grupos están [error común]. Veamos juntos: [pregunta guía, NO la respuesta directa]."

### Para metacognición:
"¿Qué fue lo MÁS DIFÍCIL de esta actividad? ¿Qué estrategia usaron para resolverlo?"

### Para transferencia:
"¿En qué situación de su VIDA REAL podrían aplicar lo que aprendimos hoy? Piensen en casa, comunidad, futuro."

### Para cierre motivador:
"Hoy demostraron que [logro]. Esto les servirá para [conexión con próxima clase o vida real]."
`;

export const SELECTION_MATRIX = {
  "resolver_problema": {
    metodologia: "ABPr",
    estructura: "Caso Rápido",
    duracion_min: 45,
    effect_size: 1.076
  },
  "crear_producto": {
    metodologia: "ABP",
    estructura: "Mini-ABP",
    duracion_min: 90,
    effect_size: 0.44
  },
  "comprension_textos": {
    metodologia: "Jigsaw + TPS",
    estructura: "Expertos → Base → Síntesis",
    duracion_min: 40,
    effect_size: 0.33
  },
  "argumentacion": {
    metodologia: "P4C + Debate",
    estructura: "Comunidad de indagación",
    duracion_min: 45,
    effect_size: 0.8
  },
  "practica_consolidacion": {
    metodologia: "Gamificación",
    estructura: "Quiz-battle / Estaciones",
    duracion_min: 20,
    effect_size: 1.30
  },
  "reflexion": {
    metodologia: "SRL",
    estructura: "Do Now + Pausas + Exit Ticket",
    duracion_min: 10,
    effect_size: 0.69
  },
  "socioemocional": {
    metodologia: "SEL",
    estructura: "Integrado transversalmente",
    duracion_min: 0,
    effect_size: 0.6
  }
};

export const ADAPTACIONES_NEE_REFERENCE = `
# ADAPTACIONES POR NECESIDADES EDUCATIVAS ESPECIALES

## Guía rápida de adaptaciones por momento

| NEE | INICIO | DESARROLLO | CIERRE |
|-----|--------|------------|--------|
| Altas capacidades | Pregunta de extensión adicional | Rol de tutor par o investigación extra | Reto de transferencia complejo |
| Dislexia | Instrucciones orales + escritas grandes | Tiempo extra, textos fragmentados, par lector | Respuesta oral opcional |
| Síndrome de Down | Instrucciones simples, una a la vez | Tareas en pasos pequeños, refuerzo frecuente | Celebración del esfuerzo |
| TDA | Contacto visual al dar consignas | Tareas en bloques cortos de 10-15 min | Verificación paso a paso |
| TDAH | Permitir movimiento, ubicación estratégica | Roles activos, descansos entre fases | Síntesis breve y concreta |
| TEA | Agenda visual del día anticipada | Instrucciones explícitas sin ambigüedades | Cierre predecible, sin sorpresas |

## Principios universales (aplicar SIEMPRE)
1. **Multimodalidad**: Instrucciones orales + visuales + escritas
2. **Segmentación**: Dividir tareas largas en pasos pequeños
3. **Verificación**: Confirmar comprensión antes de avanzar
4. **Flexibilidad**: Ofrecer opciones de cómo demostrar aprendizaje
5. **Refuerzo positivo**: Celebrar avances, no solo resultados
`;
